---
alias: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HPI"
tags:
  - hpi/config
  - hpi/backend
version: "5.0.2"
release_date: "2025-06-14"
status: "stable"
---

## –ù–æ–≤–æ–µ –≤ —Ä–µ–ª–∏–∑–µ 5.0.2 (14.06.2025)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
- –£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
---

# ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è HPI

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `OPENAI_API_KEY` ‚Äî –∫–ª—é—á –¥–ª—è AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã AI)
- `.env` ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## AI –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- –í—Å–µ –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `logs/app.log`
- –û—à–∏–±–∫–∏ AI –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–±–æ–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º traceback
- –î–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ AI-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏—â–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è `[AI]` –∏ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–µ

## üìä –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á–µ—Ç–∞

- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –≤–æ–ø—Ä–æ—Å:** 1
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª –∑–∞ –≤–æ–ø—Ä–æ—Å:** 4
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Å—Ñ–µ—Ä–µ:** 6
- **–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:** –¥–æ 1 –∑–Ω–∞–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- **–®–∫–∞–ª–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è (–§–∏–±–æ–Ω–∞—á—á–∏):** 1‚Üí1.0, 2‚Üí2.0, 3‚Üí3.0, 4‚Üí5.0

## üéØ –í–µ—Å–∞ —Å—Ñ–µ—Ä

| –°—Ñ–µ—Ä–∞ | –°–∏–º–≤–æ–ª | –í–µ—Å |
|-------|--------|-----|
| –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å –ª—é–±–∏–º—ã–º–∏ | üíñ | 0.125 |
| –û—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ä–æ–¥–Ω—ã–º–∏ | üè° | 0.125 |
| –î—Ä—É–∑—å—è | ü§ù | 0.125 |
| –ö–∞—Ä—å–µ—Ä–∞ | üíº | 0.125 |
| –§–∏–∑–∏—á–µ—Å–∫–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ | ‚ôÇÔ∏è | 0.125 |
| –ú–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ | üß† | 0.125 |
| –•–æ–±–±–∏ –∏ —É–≤–ª–µ—á–µ–Ω–∏—è | üé® | 0.125 |
| –ë–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏–µ | üí∞ | 0.125 |

## üßÆ –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞

### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (—à–∫–∞–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏)
```javascript
answerScores = {
    1: 1.0,  // –ë–∞–∑–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
    2: 2.0,  // –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
    3: 3.0,  // –•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å
    4: 5.0   // –û—Ç–ª–∏—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
}
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–ª–ª–æ–≤ —Å—Ñ–µ—Ä—ã (1-10)
```javascript
// –°—ã—Ä–æ–π –±–∞–ª–ª: —Å—É–º–º–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
rawScore = sum(fibonacci_scores)

// –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤ —à–∫–∞–ª—É 1-10
minPossible = 6 * 1.0  // 6 –≤–æ–ø—Ä–æ—Å–æ–≤ * –º–∏–Ω. –±–∞–ª–ª
maxPossible = 6 * 5.0  // 6 –≤–æ–ø—Ä–æ—Å–æ–≤ * –º–∞–∫—Å. –±–∞–ª–ª

normalizedScore = ((rawScore - minPossible) / (maxPossible - minPossible)) * 9 + 1
```

### –ò—Ç–æ–≥–æ–≤—ã–π HPI (20-100)
```javascript
// –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤ —Å—Ñ–µ—Ä
weightedAvg = sum(sphereScore * sphereWeight) / sum(sphereWeights)

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —à–∫–∞–ª—É 20-100
hpiScore = ((weightedAvg - 1) * (80/9)) + 20
```

## üéØ –¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
```json
{
  "min_hpi": 20.0,
  "target_hpi": 70.0,
  "max_hpi": 100.0,
  "update_frequency": "monthly",
  "alert_threshold": 40.0
}
``` 